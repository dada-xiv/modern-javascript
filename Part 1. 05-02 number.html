<!DOCTYPE HTML>
<html>
<body>
<div id="log"></div>
<script>
function print(id, str){
	let elmId = document.getElementById(id);
	elmId.tagName === "DIV" ? elmId.innerHTML+=`${str}<br>` : elmId.value=str;
}

let billion = 1e9

print("log", billion); //소수점 셋째 자리에서 반올림

//toString(base)는 base진법으로 숫자를 표현한 뒤 문자형으로 변환해서 반환한다
print("log", billion.toString(16));
print("log", billion.toString(2));

let num = 12.625;

print("log", Math.floor(num)); //내림(버림)
print("log", Math.round(num)); //반올림
print("log", Math.ceil(num)); //올림

//toFixed() : 가장 가까운 값으로 올림 or 버림 (문자열로 반환된다)
print("log", num.toFixed(1)); //소숫점 첫째 자리까지
print("log", num.toFixed(2)); //소숫점 둘째 자리까지
print("log", num.toFixed(5));
print("log", +num.toFixed(5)); //다시 숫자형으로..

/* 
부동소숫점 오류는 이진법으로 표현하면 무한 소수가 될 때 발생한다. 10진법에서 1/3을 소수 표기법으로 유한하게 나타낼 수 없듯이, 2진법을 사용해 0.1 또는 0.2를 유한한 숫자형으로 저장하는 방법은 없다. 무한소수를 방지하는 완벽한 방법은 없으므로 필요할 때마다 적절한 어림수를 만들어야 한다.
*/
print("log", "부동 소숫점 오류:");
print("log", 0.1+0.2); //0.30000000000000004
print("log", (0.1+0.2).toFixed(40));//0.3000000000000000444089209850062616169453
print("log", 0.1.toFixed(40));//0.1000000000000000055511151231257827021182
print("log", 0.2.toFixed(40));//0.2000000000000000111022302462515654042363
//한 가지 해결책:
print("log", +(0.1+0.2).toFixed(2)); //0.3

/*
정밀도 손실 문제
*/
print("log", "정밀도 손실 문제:");
print("log", +6.35.toFixed(2)); //6.40이 아닌 6.35가 출력
print("log", 6.35.toString(2)); 
//110.0101100110011001100110011...
print("log", 6.35.toFixed(20)); //6.34999999999999964473

//한 가지 해결책: 반올림 하기 전에 정수에 가깝게 만든다
print("log", (6.35*10).toFixed(20)); // 63.50000000000000000000
//여기서 정밀도 손실이 발생하지 않는 이유는 소수 부분인 0.5가 정확히 1/2이기 때문이다.
print("log", Math.round(6.35*10)/10); // 6.4

/* 
특수한 number 값:

Infinity, -Inifinity : 각각 양과 음의 무한대를 나타내는 숫자형
NaN : 에러를 나타내는 숫자형

isNaN() : NaN인지를 판별
isFinite() : 무한대가 아닌지를 판별

cf) 빈 문자열이나 공백은 숫자로 반환하면 0으로 취급된다.
*/

print("log", isNaN("a string")); //true
print("log", isFinite(Infinity)); //false

/* 
숫자를 쉽게 빼내는 내장함수: parseInt(), parseFloat()

불가능할 때까지 문자열에서 숫자를 읽어낸다.
*/

print("log", parseInt('200px'));
print("log", parseInt('12.5em'));
print("log", parseFloat('12.5em'));

print("log", parseInt('0xff',16)); //255
print("log", parseInt('ff',16)); //255

//기타 수학 함수

//Math.random() creates a random value from 0 to 1 (not including 1).
print("log", Math.random());
print("log", Math.random());
print("log", Math.random());

function random(min, max){
	return min + (max - min) * Math.random();
}
print("log", "random(min, max)");
print("log", random(1,5));
print("log", random(1,5));
print("log", random(1,5));




print("log", Math.pow(2,10)); //2^10 = 1024

</script>
</body>
</html>